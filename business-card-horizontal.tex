% !TEX TS-program = pdflatex

% You could use xelatex for easier font customization,
%   but it requires more intervention to make FontAwesome work.
%   see (e.g.) https://tex.stackexchange.com/questions/132888/fontawesome-font-not-found: 

\documentclass[10pt, oneside, final]{article}

% \usepackage{tikz}
\usepackage{parskip}           % remove paragraph indents
\usepackage{graphicx}

%----------------------------------------------------------------------------------------
%	COLOURS AND LINKS
%----------------------------------------------------------------------------------------

\usepackage[usenames,svgnames]{xcolor} % Allows the definition and use of custom colours

\definecolor{text}{HTML}{2b2b2b} % Main document font colour, off-black
\definecolor{headings}{HTML}{701112} % Dark red colour for headings
\definecolor{shade}{HTML}{F5DD9D} % Peach colour for the contact information box
\definecolor{linkcolor}{HTML}{000000} % 25% desaturated headings colour for links
\definecolor{python}{HTML}{0E5484}
\definecolor{maingray}{HTML}{B9B9B9}
% Other colour options: shade=B9D7D9 and linkcolor=A40000; shade=D4D7FE and linkcolor=FF0080

% For preset colours that can be used by their names without having to define them, see: https://www.latextemplates.com/svgnames-colors

\color{text} % Set the default text colour for the whole document to the colour defined as 'text' above

%------------------------------------------------

\usepackage{hyperref} % Required for links

\hypersetup{colorlinks, breaklinks, urlcolor=linkcolor, linkcolor=linkcolor} % Set up links and their colours

% set all margins to 0 and set business card size
% \usepackage[
%   paperwidth = 3.5in,
%   paperheight = 2in,
%   margin = 0.2in,
%   noheadfoot
% ]{geometry}
\usepackage[left=1cm, 
  right=1cm, 
  top=1cm,
  bottom=1cm,
  margin = 0.0in,
  noheadfoot
]{geometry}

% interline spacing
\setlength{\baselineskip}{0cm} % between baselines
\setlength{\topskip}{0pt}      % between header and text block

% wrapping text around figure
\usepackage{wrapfig}

% --- fonts -----------------------
% MinionPro is difficult to set up. 
%   see e.g. https://kieranhealy.org/blog/archives/2012/11/10/installing-minion-pro/
% \usepackage[lf, mathtabular, minionint]{MinionPro} % serif
\usepackage[scaled = 0.9]{FiraSans}                % sans
\usepackage[varqu, scaled = 0.95]{zi4}             % mono w/ straight quotes
\usepackage{fontawesome}                           % FA icons

\usepackage{fontspec}
\usepackage{svg}

\setmainfont[
  Path = fonts/,
  Ligatures=TeX,
  UprightFont   = MinionPro-Regular.otf,
  BoldItalicFont= MinionPro-BoldIt.otf,
  BoldFont      = MinionPro-Bold.otf,
  ItalicFont    = MinionPro-It.otf
  ]{MinionPro}

\setmonofont[
  Path=fonts/,
  Scale=MatchLowercase,
  UprightFont=consola.ttf]{Consolas}

\newsavebox\currbizcard
 
\usepackage{scrextend}
\newlength\xbetweencards
\newlength\ybetweencards
\setlength\xbetweencards{24pt}
\setlength\ybetweencards{24pt}

\usepackage{tcolorbox}
\tcbuselibrary{skins}
\usepackage{tikz}

\begin{document}

\sbox\currbizcard{%
  \begin{tcolorbox}[width=3.5in,
    height=2.0in,
    colback=white,
    colframe=gray!50,
    sharp corners,
    boxrule=0.5pt,
    % enhanced,
    % frame hidden,
    % interior hidden,
    boxsep=0pt,
    left=5pt,
    right=10pt,
    top=5pt,
    bottom=10pt
    ]%%
    \begin{minipage}[c][1.8in][c]{3.3in}%
      \noindent
      \thispagestyle{empty}
      
      \begin{wrapfigure}{l}{0.55\textwidth}
        \includegraphics[width = 0.35\textwidth]{img/mcgill_sig_red.pdf}
      \end{wrapfigure}

      \begin{wrapfigure}{r}{0.25\textwidth}
      \includesvg[width = 0.25\textwidth]{img/QR_code.svg}
      \end{wrapfigure}
      
      ~\\
      ~\\
      {\large\textsf{\textbf{John Kokkalis}}}

      \textit{M.Sc.} \\
      ~\\
      \emph{Mechanical Engineering}

      \vfill 
      {\faEnvelope} \texttt{\href{mailto:john.kokkalis@mail.mcgill.ca}{john.kokkalis@mail.mcgill.ca}} \hfill 
      {\faPhone} {(514)~835{\textendash}5027}\\
      
      \hspace{-0.0\linewidth}
      \vspace{-0.125in}
      \makebox[1\linewidth][c]{\tikz{\filldraw[red](0,0) rectangle (3.5in,0.125in);}}

    \end{minipage}
  \end{tcolorbox}
}
\eject \pdfpagewidth=3.5in \pdfpageheight=2.0in
\usebox\currbizcard
\cleardoublepage
\eject \pdfpagewidth=8.5in \pdfpageheight=11in
\centering
\null\vfill
  \usebox\currbizcard\hspace{\xbetweencards}\usebox\currbizcard\\[\ybetweencards]
  \usebox\currbizcard\hspace{\xbetweencards}\usebox\currbizcard\\[\ybetweencards]
  \usebox\currbizcard\hspace{\xbetweencards}\usebox\currbizcard\\[\ybetweencards]
  \usebox\currbizcard\hspace{\xbetweencards}\usebox\currbizcard\\\par
\vfill\clearpage

\end{document}